<section id="addCourse" class="mb-3">
    <div class="container-fluid">
      <div class="row justify-content-center align-items-center min-vh-100">
        <div class="col-md-8 col-lg-6">
          <div class="card shadow-lg rounded mt-4">
            <div class="card-header">
              <h3>Add New Course</h3>
            </div>
            <div class="card-body">
              <form id="courseForm" [formGroup]="courseForm" (ngSubmit)="handleForm()">
                <!-- Course Name -->
                <div class="form-group">
                  <label for="name"><i class="fa-solid fa-book"></i> Course Name</label>
                  <input type="text" formControlName="name" class="form-control" id="name" placeholder="Enter Course Name" required>
                  <div class="alert alert-danger" *ngIf="courseForm.get('name')?.errors && courseForm.get('name')?.touched">
                    <p *ngIf="courseForm.get('name')?.getError('required')">Course name is required</p>
                    <p *ngIf="courseForm.get('name')?.getError('maxlength')">Max length should be 255</p>
                  </div>
                </div>
  
               
                <div class="form-group">
                  <label for="price"><i class="fa-solid fa-dollar-sign"></i> Price</label>
                  <input type="number" formControlName="price" class="form-control" id="price" placeholder="Enter Price" required>
                  <div class="alert alert-danger" *ngIf="courseForm.get('price')?.errors && courseForm.get('price')?.touched">
                    <p *ngIf="courseForm.get('price')?.getError('required')">Price is required</p>
                    <p *ngIf="courseForm.get('price')?.getError('pattern')">Price must be a valid number</p>
                  </div>
                </div>
  
                <!-- Date -->
                <div class="form-group">
                  <label for="date"><i class="fa-solid fa-calendar"></i> Date</label>
                  <input type="date" formControlName="date" class="form-control" id="date" required>
                  <div class="alert alert-danger" *ngIf="courseForm.get('date')?.errors && courseForm.get('date')?.touched">
                    <p *ngIf="courseForm.get('date')?.getError('required')">Date is required</p>
                  </div>
                </div>
  
                <!-- Description -->
                <div class="form-group">
                  <label for="description"><i class="fa-solid fa-file-alt"></i> Description</label>
                  <textarea formControlName="description" class="form-control" id="description" rows="6" placeholder="Enter course description" required></textarea>
                  <div class="alert alert-danger" *ngIf="courseForm.get('description')?.errors && courseForm.get('description')?.touched">
                    <p *ngIf="courseForm.get('description')?.getError('required')">Description is required</p>
                  </div>
                </div>
  
                <!-- Course Image -->
                <div class="form-group text-center">
                  <label for="courseImage" class="form-label"><i class="fa-solid fa-image"></i> Course Image</label>
                  <!-- <div class="image-preview mb-2">
                    <img src="images/service.png" alt="Course Image Preview" id="courseImagePreview" class="rounded-circle">
                  </div> -->
                  <div class="custom-file">
                    <input type="file" class="custom-file-input" id="courseImage" (change)="onFileSelected($event)" accept="image/*" required style="display: none;">
                    <label for="courseImage" class="btn btn-image">
                      <i class="fa-solid fa-file-arrow-up"></i> Choose File
                    </label>
                    <span id="file-name">{{ selectedFile?.name || 'No file chosen' }}</span>
                  </div>
                  <div class="alert alert-danger" *ngIf="courseForm.get('image')?.errors && courseForm.get('image')?.touched">
                    <p *ngIf="courseForm.get('image')?.getError('required')">Image is required</p>
                    <p *ngIf="courseForm.get('image')?.getError('invalidFileType')">Invalid image format</p>
                    <p *ngIf="courseForm.get('image')?.getError('fileTooLarge')">File is too large (Max: 2MB)</p>
                  </div>
                </div>
  
               
                <div class="text-center">
                  <button type="submit" class="btn btn-primary mr-2" [disabled]="courseForm.invalid">  <i *ngIf="isLoading" class="fas fa-spinner fa-spin"></i>Add Course</button>
                  <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancel</button>
                </div>
  
               
                <div *ngFor="let error of msgErrors" class="alert alert-danger mt-3">
                  {{ error }}
                </div>
  
                
                <p *ngIf="msgSuccess" class="alert alert-success mt-2">{{ msgSuccess }}</p>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>